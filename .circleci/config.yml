### =============================================================
### This configuration file is used by CircleCI build server
### https://circleci.com/docs/config-sample
### =============================================================
version: 2.1
jobs:
  build:

      machine:
        image: ubuntu-1604:202007-01

      steps:
        - checkout
        - run:
            name: Setup Node
            command: |
              echo '[ -s "$NVM_DIR/nvm.sh" ] && \. "$NVM_DIR/nvm.sh"' >> $BASH_ENV
              source $BASH_ENV
              nvm install `cat .nvmrc`
              nvm use
        - run:
            name: NPM Build
            command: |
              node --version
              npm --version
              npm ci
              npm run build        

workflows:
  build_and_release:
    jobs:
      - build
