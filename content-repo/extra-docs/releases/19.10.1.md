## Demisto Content Release Notes for version 19.10.1 (31209)
##### Published on 15 October 2019
### *Notice*: Breaking Change
 __SplunkPy__: This update adds the *app* parameter settings. After the update is complete, there is need to re-save existing instances of SplunkPy. Open the instance configuration, *Test* the instance and then save. The *app* parameter may be left empty.
### Integrations

####  New Integration
- __SMIME Messaging__
Use the S/MIME (Secure Multipurpose Internet Mail Extensions) integration to send and receive secure MIME data.

####  14 Improved Integrations
- __Kafka v2__
  - Added partitions to ***kafka-print-topic*** command outputs.
  - Added a parameter to set the maximum number of messages to fetch.
  - Improved debug logging outputs.
  - Improved fetch incidents implementation (breaks backward compatibility).
- __Slack v2__
Added support for changing the display name and icon for the Demisto bot in Slack.
- __DUO Admin__
Proxy configuration now works as expected.
- __Palo Alto Networks Traps__
Updated the integration category to *Endpoint*.
- __Active Directory Query v2__
Added support for **debug-mode**, which logs extended information when enabled.
- __RSA Archer__
Added support for European timestamps.
- __Hybrid Analysis__
Fixed an issue where ***hybrid-analysis-search*** command returned an error without using the *query* argument.
- __Prisma Cloud (RedLock)__
  - Updated the display name to: **Prisma Cloud (RedLock)**.
  - Added the *Trust any certificate* configuration parameter.
- __Microsoft Graph Mail__
  - Improved the description of the *search* argument in ***msgraph-mail-list-emails*** command.
  - Fixed an issue where the ***msgraph-mail-delete-email*** command always returned an error.
- __ThreatQ v2__
 Fixed results numbering for the following commands.
  - ***threatq-get-all-adversaries***
  - ***threatq-get-all-indicators***
  - ***threatq-get-all-events***
- __Rasterize__
  - Updated the integration to use Chrome driver instead of phantomJS (requires Demisto 5.0).
  - Improved control over the window size of the output.
- __SplunkPy__
  - Added the *app* parameter, which is the app context of the namespace.
  - Improved the human readable output of the search command.
- __TruSTAR__
Fixed an issue where the ***trustar-search-indicator*** command returned an incorrect context output.
- __IntSights__
  - Fixed an issue where indicators were not extracted correctly in ***intsight-get-iocs*** command.
  - Improved implementation of the following commands:
    - ***intsights-get-alert-image***
    - ***intsights-get-alert-takedown-status***

---
### Scripts

####  2 New Scripts
- __AwsEC2GetPublicSGRules__
Find Security Group rules which allow ::/0 (IPv4) or 0.0.0.0/0.
- __PopulateCriticalAssets__
Populates critical assets in a grid field that has the section headers **Asset Type** and **Asset Name**.

####  2 Improved Scripts
- __CommonServerPython__
  - Added the ***is_debug_mode*** wrapper function, which checks if **debug-mode** is enabled.
  - The ***return_outputs*** function can now return readable_output.
- __ExtractDomainFromUrlAndEmail__
Added support for URLs contains non-ASCII characters.

---
### Playbooks

#### 5 New Playbooks
- __Traps Quarantine Event__
This playbook accepts a file hash and quarantines the file using Traps.
- __Traps Blacklist File__
This playbook accepts a file SHA256 hash and adds it to a blacklist using the Traps integration.
- __Traps Isolate Endpoint__
This playbook accepts an endpoint ID from the Traps integration and isolates the endpoint.
- __Prisma Cloud Remediation - AWS Security Groups Allows Internet Traffic To TCP
  Port__
This playbook extracts the TCP public Security Groups rule and provides manual/automatic options to have the rules revoked.
- __Palo Alto Networks - Endpoint Malware Investigation__
This playbook is triggered by a Palo Alto Networks Cortex threat alert, generated by Traps.  The playbook performs host enrichment for the source host with Palo Alto Networks Traps, enriches information for the suspicious file with Palo Alto Networks MineMeld and AutoFocus, and automatically performs file detonation for the extracted file. It then performs IOC enrichment with MineMeld for all related IOCs, and calculates the incident severity based on all the findings. 

####  3 Improved Playbooks
- __Calculate Severity - Critical Assets v2__
Added a task that sets all found critical assets to a new incident field.
- __Calculate Severity - Generic v2__
Fixed an issue where the current incident severity was not always taken into account.
- __Palo Alto Networks - Malware Remediation__
Added Traps remediation sub-playbooks.

---
### Incident Fields
- __PID__
PID.
- __Blocked Action__
Blocked Action.
- __Subtype__
Subtype.
- __Infected Hosts__
Infected hosts found in the investigation.
- __Isolated__
Isolated.
- __Device Name__
Device Name.
- __Traps ID__
Traps event ID.
- __Agent ID__
Agent ID.
- __Malicious Behavior__
Malicious Behavior.
- __Quarantined__
Whether the indicator is quarantined or isolated.
- __Terminated Action__
Terminated Action.
- __Src OS__
Src OS.
- __Command Line__
Command Line.
- __File Size__
File Size.
- __Triggered Security Profile__
Triggered Security Profile.
- __Critical Assets__
A table of critical assets involved in the incident, including the name and asset type.
- __Parent Process ID__
Parent Process ID.

---
### Incident Layouts
####  New Incident Layout
- __Traps - Summary__
New layout for Traps incident type.

####  2 Improved Incident Layouts
- __Phishing - Summary__
  - Reorganized several elements of the layout.
  - Added a field that displays the result for an email authenticity check.
  - Added a field that displays email headers.
  - Added a field that displays the email address of the user who reported the phishing email.
  - Added a field that displays the email classification.
  - Added a field that displays the phishing sub-type.
  - Added a field that displays URL SSL verification results.
  - Added a section that displays URL screenshots.
  - Added a field that displays critical assets involved in the phishing incident.
- __Phishing - Summary__
Added a list of critical assets to the summary layout of phishing incidents.

---
### Classification & Mapping

####  New Classification & Mapping
- __Palo Alto Networks Cortex__
New classifier for Palo Alto Networks Cortex integration for Traps incidents.

---
### Reputations
  - The regex now recognizes URL query syntax.
  - Added support for non-English languages.
  - Added support for asterisk, pipeline, and various dashes.